<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Data Process - OnionRTC</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../Selenium/index.html"><strong aria-hidden="true">2.</strong> Client Setup</a></li><li class="chapter-item expanded "><a href="../Deployment/index.html"><strong aria-hidden="true">3.</strong> Deployment</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Deployment/Ansible/index.html"><strong aria-hidden="true">3.1.</strong> Ansible</a></li><li class="chapter-item expanded "><a href="../Deployment/HostA-Application/index.html"><strong aria-hidden="true">3.2.</strong> Host A - Application server</a></li><li class="chapter-item expanded "><a href="../Deployment/HostB-Turn/index.html"><strong aria-hidden="true">3.3.</strong> Host B - Turn server</a></li><li class="chapter-item expanded "><a href="../Deployment/HostCD-Router/index.html"><strong aria-hidden="true">3.4.</strong> Host CD - Router</a></li><li class="chapter-item expanded "><a href="../Deployment/HostsCD-Clients/index.html"><strong aria-hidden="true">3.5.</strong> Hosts CD - Clients</a></li></ol></li><li class="chapter-item expanded "><a href="../CommandAndControl/index.html"><strong aria-hidden="true">4.</strong> Command And Control</a></li><li class="chapter-item expanded "><a href="../Dataprocess/index.html" class="active"><strong aria-hidden="true">5.</strong> Data Process</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OnionRTC</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="data-processing"><a class="header" href="#data-processing">Data processing</a></h1>
<p>This Readme describes how to get started with the data processing and shows the results of the experiment.</p>
<h2 id="data-access"><a class="header" href="#data-access">Data Access</a></h2>
<p>To get access to the data please read the <a href="./DataAccess.html">DataAccess</a> document.</p>
<h2 id="scenario-list"><a class="header" href="#scenario-list">Scenario list</a></h2>
<p>To shorten some of the naming, the plots follow the abbreviation scheme the individual clients (c1-c6 and d1-d6) is configured to the specific setup.</p>
<table><thead><tr><th>Networking type</th><th>abbreviation</th></tr></thead><tbody>
<tr><td>Normal</td><td>Norm</td></tr>
<tr><td>Tor (Normal)</td><td>TorN</td></tr>
<tr><td>Tor (Europe)</td><td>TorE</td></tr>
<tr><td>Tor (Scandinavia)</td><td>TorS</td></tr>
<tr><td>Lokinet</td><td>Loki</td></tr>
</tbody></table>
<p>The following tabels are the different scenarios which is being tested. Here c1 referees to the client c1, which can be seen in the <a href="../Deployment/Readme.html">Deployment</a> documentation.</p>
<p>One to one</p>
<table><thead><tr><th>Name</th><th>Setup</th></tr></thead><tbody>
<tr><td>01 Norm-Norm</td><td><code>Alice, Norm(c1)</code> → <code>Turn</code> ← <code>Norm(d1), Bob</code></td></tr>
<tr><td>02 TorN-TorN</td><td><code>Alice, TorN(c2)</code> → <code>Turn</code> ← <code>TorN(d2), Bob</code></td></tr>
<tr><td>03 TorE-TorE</td><td><code>Alice, TorE(c3)</code> → <code>Turn</code> ← <code>TorE(d3), Bob</code></td></tr>
<tr><td>04 TorS-TorS</td><td><code>Alice, TorS(c4)</code> → <code>Turn</code> ← <code>TorS(d4), Bob</code></td></tr>
<tr><td>05 Loki-Loki</td><td><code>Alice, Loki(c6)</code> → <code>Turn</code> ← <code>Loki(d6), Bob</code></td></tr>
</tbody></table>
<p>Normal to Anonymized in pairs</p>
<table><thead><tr><th>Name</th><th>Setup</th></tr></thead><tbody>
<tr><td>06 Norm-TorN</td><td><code>Alice, Norm(c1)</code> → <code>Turn</code> ← <code>TorN(d2), Bob</code></td></tr>
<tr><td>07 TorN-Norm</td><td><code>Alice, TorN(c2)</code> → <code>Turn</code> ← <code>Norm(d1), Bob</code></td></tr>
<tr><td>08 Norm-TorE</td><td><code>Alice, Norm(c1)</code> → <code>Turn</code> ← <code>TorE(d3), Bob</code></td></tr>
<tr><td>09 TorE-Norm</td><td><code>Alice, TorE(c3)</code> → <code>Turn</code> ← <code>Norm(d1), Bob</code></td></tr>
<tr><td>10 Norm-TorS</td><td><code>Alice, Norm(c1)</code> → <code>Turn</code> ← <code>TorS(d4), Bob</code></td></tr>
<tr><td>11 TorS-Norm</td><td><code>Alice, TorS(c4)</code> → <code>Turn</code> ← <code>Norm(d1), Bob</code></td></tr>
<tr><td>12 Norm-Loki</td><td><code>Alice, Norm(c1)</code> → <code>Turn</code> ← <code>Loki(d6), Bob</code></td></tr>
<tr><td>13 Loki-Norm</td><td><code>Alice, Loki(c6)</code> → <code>Turn</code> ← <code>Norm(d1), Bob</code></td></tr>
</tbody></table>
<p>Tor to Tor in pairs</p>
<table><thead><tr><th>Name</th><th>Setup</th></tr></thead><tbody>
<tr><td>14 TorN-TorE</td><td><code>Alice, TorN(c2)</code> → <code>Turn</code> ← <code>TorE(d3), Bob</code></td></tr>
<tr><td>15 TorE-TorN</td><td><code>Alice, TorE(c3)</code> → <code>Turn</code> ← <code>TorN(d2), Bob</code></td></tr>
<tr><td>16 TorN-TorS</td><td><code>Alice, TorN(c2)</code> → <code>Turn</code> ← <code>TorS(d4), Bob</code></td></tr>
<tr><td>17 TorS-TorN</td><td><code>Alice, TorS(c4)</code> → <code>Turn</code> ← <code>TorN(d2), Bob</code></td></tr>
<tr><td>18 TorE-TorS</td><td><code>Alice, TorE(c3)</code> → <code>Turn</code> ← <code>TorS(d4), Bob</code></td></tr>
<tr><td>19 TorS-TorE</td><td><code>Alice, TorS(c4)</code> → <code>Turn</code> ← <code>TorE(d3), Bob</code></td></tr>
</tbody></table>
<p>For each test call, there will be created logs that goes to the Mongo database. In the <code>calls</code> table the following will be present: which scenario is started, the outcome of the call and when each client detected the session started and ended. The ObserveRTC logs will go to the <code>reports</code> table, where the WebRTC specific data is located.</p>
<hr />
<h2 id="preprocessing"><a class="header" href="#preprocessing">Preprocessing</a></h2>
<p>To get data ready for processing, run the <a href="./ExtractRawData.ipynb">ExtractRawData</a> notebook. This will connect to the MongoDB and gather the call stats, do som basic data transformation and save it to CSV files, which will be overwritten each time the script is called. The outcome will be the following files:</p>
<ul>
<li><code>output_folder/uniqueCallsAndOutcomes.csv</code></li>
<li><code>output_folder/rawReport/c1-Normal.csv</code></li>
<li><code>output_folder/rawReport/c2-TorNormal.csv</code></li>
<li><code>output_folder/rawReport/c3-TorEurope.csv</code></li>
<li><code>output_folder/rawReport/c4-TorScandinavia.csv</code></li>
<li><code>output_folder/rawReport/c6-Lokinet.csv</code></li>
<li><code>output_folder/rawReport/d1-Normal.csv</code></li>
<li><code>output_folder/rawReport/d2-TorNormal.csv</code></li>
<li><code>output_folder/rawReport/d3-TorEurope.csv</code></li>
<li><code>output_folder/rawReport/d4-TorScandinavia.csv</code></li>
<li><code>output_folder/rawReport/d6-Lokinet.csv</code></li>
</ul>
<p>Next, run the <a href="./SuccessfulCallsStartAndEnd.ipynb">SuccessfulCallsStartAndEnd</a> notebook, this will for the scenarios <code>1, 8, 9, 10</code> and <code>11</code> find the start and end timestamps of all the successful calls. The outcome will be the file:</p>
<ul>
<li><code>output_folder/SuccessfulCallsStartAndEnd.csv</code>.</li>
</ul>
<p>Next, to get the bandwidth usage data, run the <a href="./BandwidthDataExtractionTransmit.ipynb">BandwidthDataExtractionTransmit</a> and the <a href="./BandwidthDataExtractionReceive.ipynb">BandwidthDataExtractionReceive</a> notebooks. The outcome will be the files:</p>
<ul>
<li><code>output_folder/SuccessfulCallsUsedTransmitBandwidth.csv</code></li>
<li><code>output_folder/SuccessfulCallsUsedTransmitBandwidthValues.csv</code></li>
<li><code>output_folder/SuccessfulCallsUsedReceiveBandwidth.csv</code></li>
<li><code>output_folder/SuccessfulCallsUsedReceiveBandwidthValues.csv</code></li>
</ul>
<p>Now all preprocessing is complete.</p>
<hr />
<h2 id="results"><a class="header" href="#results">Results</a></h2>
<p>This section will show the results of the experiment that was gathered during the project. Also each sub section will describe which notebooks have been used to generate the specific plots.</p>
<h3 id="success-or-fail-overview"><a class="header" href="#success-or-fail-overview">Success or fail overview</a></h3>
<p>The total success and failure rate of the calls can be seen in the <a href="./SuccessOrFail.ipynb">SuccessOrFail</a> notebook.</p>
<p>And provides the following graph:</p>
<p><img src="./output_folder/SuccessOrFail.svg" alt="Success or fail" /></p>
<h3 id="success-rate-over-time"><a class="header" href="#success-rate-over-time">Success rate over time</a></h3>
<p>The success rate over time can be seen in the <a href="./SuccessRateOverTime.ipynb">SuccessRateOverTime</a> notebook.</p>
<p>And provides the following graph:</p>
<p><img src="./output_folder/SuccessRateOverTime.svg" alt="Success rate over time" /></p>
<p><img src="./output_folder/SuccessRateOverTimeHigh.svg" alt="High performing Success rate over time" /></p>
<p><img src="./output_folder/SuccessRateOverTimeLow.svg" alt="Low performing Success rate over time" /></p>
<p>Note: Client C4 started to have a technical error from the 2023-01-15. That is the reason for 4 scenarios completely failing from that time and forward.</p>
<p><img src="./output_folder/SuccessRateOverTimeCloseUp.svg" alt="Success rate over time (Close up)" /></p>
<h3 id="rtt-in-successful-calls"><a class="header" href="#rtt-in-successful-calls">RTT in successful calls</a></h3>
<p>Plot for RTT of video and audio on successful calls. Created in the <a href="./RoundTripTimeBoxPlot.ipynb">RoundTripTimeBoxPlot</a> notebook.</p>
<p><img src="./output_folder/BoxPlotRttVideo.svg" alt="RTT for video in successful calls" /></p>
<p><img src="./output_folder/BoxPlotRttVideoLogScale.svg" alt="RTT for video in successful calls on a logarithmic scale" /></p>
<p><img src="./output_folder/BoxPlotRttAudio.svg" alt="RTT for audio in successful calls" /></p>
<p><img src="./output_folder/BoxPlotRttAudioLogScale.svg" alt="RTT for audio in successful calls on a logarithmic scale" /></p>
<p><img src="./output_folder/BoxPlotRttVideoCloseUpLogScale.svg" alt="RTT for video in successful calls (Close up)" /></p>
<p><img src="./output_folder/BoxPlotRttAudioCloseUpLogScale.svg" alt="RTT for audio in successful calls (Close up)" /></p>
<h3 id="jitter-in-successful-calls"><a class="header" href="#jitter-in-successful-calls">Jitter in successful calls</a></h3>
<p>Plot for Jitter of video and audio on successful calls. Created in the <a href="./JitterBoxPlot.ipynb">JitterBoxPlot</a> notebook.</p>
<p><img src="./output_folder/BoxPlotJitterVideo.svg" alt="Jitter for video in successful calls" /></p>
<p><img src="./output_folder/BoxPlotJitterAudio.svg" alt="Jitter for audio in successful calls" /></p>
<p><img src="./output_folder/BoxPlotJitterVideoCloseUp.svg" alt="Jitter for Video in successful calls (Close up)" /></p>
<p><img src="./output_folder/BoxPlotJitterAudioCloseUp.svg" alt="Jitter for audio in successful calls (Close up)" /></p>
<h3 id="average-jitter-buffer-delay"><a class="header" href="#average-jitter-buffer-delay">Average jitter buffer delay</a></h3>
<p>Plot for Average jitter of video and audio on successful calls. Created in the <a href="./JitterBufferDelayBoxPlot.ipynb">JitterBufferDelayBoxPlot</a> notebook</p>
<p><img src="./output_folder/BoxPlotAvgJitterBufferDelayVideo.svg" alt="Average video jitter buffer delay" /></p>
<p><img src="./output_folder/BoxPlotAvgJitterBufferDelayAudio.svg" alt="Average audio jitter buffer delay" /></p>
<p><img src="./output_folder/BoxPlotAvgJitterBufferDelayVideoCloseUp.svg" alt="Average video jitter buffer delay (Close up)" /></p>
<p><img src="./output_folder/BoxPlotAvgJitterBufferDelayAudioCloseUp.svg" alt="Average audio jitter buffer delay (Close up)" /></p>
<h3 id="bandwidth-used"><a class="header" href="#bandwidth-used">Bandwidth used</a></h3>
<p>Plot for the total bandwidth used during successful calls. Created in the <a href="./BandwidthUsedPlots.ipynb">BandwidthUsedPlots</a> notebook.</p>
<p><img src="./output_folder/BoxPlotUsedBandwidthTransmit.svg" alt="Average bandwidth transmit during successful calls" /></p>
<p><img src="./output_folder/BoxPlotUsedBandwidthReceive.svg" alt="Average bandwidth receive during successful calls" /></p>
<p><img src="./output_folder/BoxPlotUsedBandwidth.svg" alt="Average bandwidth used during successful calls" /></p>
<p><img src="./output_folder/BoxPlotUsedBandwidthWithThreshold.svg" alt="Average bandwidth used during successful calls with threshold values" /></p>
<p><img src="./output_folder/BoxPlotUsedBandwidthWithThresholdZoom.svg" alt="Average bandwidth used during successful calls with threshold values (Zoom)" /></p>
<p><img src="./output_folder/BoxPlotUsedBandwidthWithThresholdYoutubeAndTeams.svg" alt="Average bandwidth used during successful calls with threshold values (Youtube and Teams)" /></p>
<h2 id="validation"><a class="header" href="#validation">Validation</a></h2>
<p>To validate the results it can be related to the metrics from the material in <a href="./external_material/Readme.html">external material</a>.</p>
<p>Graph of throughput in the Tor network during the experiment. <a href="https://metrics.torproject.org/onionperf-throughput.html?start=2022-12-23&amp;end=2023-01-24&amp;server=public">Source</a></p>
<p><img src="./external_material/onionperf-throughput-public-2022-12-23-2023-01-24.png" alt="Graph of throughput in the Tor network during the experiment" /></p>
<p>Graph of latencies in the Tor network during the experiment. <a href="https://metrics.torproject.org/onionperf-latencies.html?start=2022-12-23&amp;end=2023-01-24&amp;server=public">Source</a></p>
<p><img src="./external_material/onionperf-latencies-public-2022-12-23-2023-01-24.png" alt="Graph of latencies in the Tor network during the experiment" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../CommandAndControl/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../CommandAndControl/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
